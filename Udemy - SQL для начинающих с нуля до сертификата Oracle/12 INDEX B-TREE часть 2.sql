DROP TABLE STUDENTS;

CREATE TABLE STUDENTS
(
    ID     NUMBER,
    NAME   VARCHAR2(15),
    COURSE NUMBER
);

SELECT *
FROM STUDENTS;

CREATE INDEX in1 ON STUDENTS (ID);

SELECT *
FROM STUDENTS;

INSERT INTO STUDENTS
VALUES (1, 'Aleksey', 3);

INSERT INTO STUDENTS
VALUES (2, 'Misha', 3);

INSERT INTO STUDENTS
VALUES (3, 'Ivan', 2);

INSERT INTO STUDENTS
VALUES (4, 'Misha', 4);

SELECT *
FROM STUDENTS;

DELETE
FROM STUDENTS
WHERE ID = 4;

CREATE UNIQUE INDEX in2 ON STUDENTS (NAME);

SELECT *
FROM STUDENTS;

COMMIT;

DROP TABLE STUDENTS;

CREATE TABLE STUDENTS
(
    ID     NUMBER,
    NAME   VARCHAR2(15),
    COURSE NUMBER
);

CREATE UNIQUE INDEX in1 ON STUDENTS (NAME, ID);

SELECT *
FROM STUDENTS;

DROP TABLE STUDENTS;

SELECT *
FROM STUDENTS;

DROP TABLE FACULTIES;

CREATE TABLE FACULTIES
(
    ID   NUMBER,
    NAME VARCHAR2(15)
);

SELECT *
FROM FACULTIES;

DROP TABLE STUDENTS;

CREATE TABLE STUDENTS
(
    ID         NUMBER,
    NAME       VARCHAR2(15),
    COURSE     NUMBER,
    FACULTY_ID NUMBER
);

SELECT *
FROM STUDENTS;

CREATE UNIQUE INDEX st_idx_1 ON STUDENTS (ID);

CREATE UNIQUE INDEX fc_idx_1 ON FACULTIES (ID);

CREATE UNIQUE INDEX st_idx_2 ON STUDENTS (COURSE);

CREATE INDEX st_idx_3 ON STUDENTS (NAME);

SELECT *
FROM STUDENTS;

ALTER TABLE STUDENTS
    ADD CONSTRAINT st_pk PRIMARY KEY (ID);

SELECT *
FROM STUDENTS;

ALTER TABLE FACULTIES
    ADD CONSTRAINT fk_pk PRIMARY KEY (ID);

SELECT *
FROM FACULTIES;

ALTER TABLE STUDENTS
    ADD CONSTRAINT foreign_key FOREIGN KEY (FACULTY_ID) REFERENCES FACULTIES (ID);

SELECT *
FROM STUDENTS;

ALTER TABLE STUDENTS
    ADD CONSTRAINT st_un UNIQUE (COURSE);

SELECT *
FROM STUDENTS;

DROP INDEX st_idx_1;










