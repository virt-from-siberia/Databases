DROP TABLE STUDENTS;

DROP TABLE FACULTIES;

CREATE TABLE FACULTIES
(
    ID   NUMBER PRIMARY KEY,
    NAME VARCHAR2(15)
);

CREATE TABLE STUDENTS
(
    ID         NUMBER,
    NAME       VARCHAR2(15),
    COURSE     NUMBER NOT NULL,
    FACULTY_ID INTEGER REFERENCES FACULTIES
);

SELECT *
FROM STUDENTS;


INSERT INTO FACULTIES
VALUES (1, 'CS');

INSERT INTO FACULTIES
VALUES (2, 'MARKETING');

INSERT INTO STUDENTS
VALUES (1, 'Aleksey', 2, 2);

INSERT INTO STUDENTS
VALUES (2, 'Ivan', 1, 1);

INSERT INTO STUDENTS
VALUES (1, 'Misha', 1, 1);

SELECT *
FROM STUDENTS;

DELETE
FROM FACULTIES
WHERE ID = 1;

INSERT INTO FACULTIES
VALUES (3, 'FILOLOGY');

DELETE
FROM FACULTIES
WHERE ID = 3;

DROP TABLE STUDENTS;

CREATE TABLE STUDENTS
(
    ID         NUMBER,
    NAME       VARCHAR2(15),
    COURSE     NUMBER NOT NULL,
    FACULTY_ID INTEGER REFERENCES FACULTIES ON DELETE CASCADE
);

INSERT INTO STUDENTS
VALUES (1, 'Aleksey', 2, 2);

INSERT INTO STUDENTS
VALUES (2, 'Ivan', 1, 1);

INSERT INTO STUDENTS
VALUES (1, 'Misha', 1, 1);

SELECT *
FROM STUDENTS;

SELECT *
FROM FACULTIES;

INSERT INTO FACULTIES
VALUES (3, 'FILOLOGY');

DELETE
FROM FACULTIES
WHERE ID = 2;

SELECT *
FROM STUDENTS;

DROP TABLE FACULTIES;


CREATE TABLE FACULTIES
(
    ID   NUMBER PRIMARY KEY,
    NAME VARCHAR2(15)
);

INSERT INTO FACULTIES
VALUES (1, 'CS');

INSERT INTO FACULTIES
VALUES (2, 'MARKETING');

INSERT INTO FACULTIES
VALUES (3, 'FILOLOGY');

SELECT *
FROM FACULTIES;

CREATE TABLE STUDENTS
(
    ID         NUMBER,
    NAME       VARCHAR2(15),
    COURSE     NUMBER NOT NULL,
    FACULTY_ID INTEGER REFERENCES FACULTIES
);

SELECT *
FROM STUDENTS;

INSERT INTO STUDENTS
VALUES (1, 'Aleksey', 2, 2);

INSERT INTO STUDENTS
VALUES (2, 'Ivan', 1, 1);

INSERT INTO STUDENTS
VALUES (1, 'Misha', 1, 1);

SELECT *
FROM STUDENTS;

DROP TABLE STUDENTS;

CREATE TABLE STUDENTS
(
    ID         NUMBER,
    NAME       VARCHAR2(15),
    COURSE     NUMBER  NOT NULL,
    FACULTY_ID INTEGER REFERENCES FACULTIES ON DELETE SET NULL
);

INSERT INTO STUDENTS
VALUES (1, 'Aleksey', 2, 2);

INSERT INTO STUDENTS
VALUES (2, 'Ivan', 1, 1);

INSERT INTO STUDENTS
VALUES (1, 'Misha', 1, 1);

SELECT *
FROM STUDENTS;

DELETE
FROM FACULTIES
WHERE ID = 1;

SELECT *
FROM STUDENTS;



















